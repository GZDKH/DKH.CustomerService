syntax = "proto3";

package proto.customer.api.contact_verification.v1;

option csharp_namespace = "DKH.CustomerService.Contracts.Customer.Api.ContactVerification.v1";

import "customer/models/contact_verification/v1/contact_verification.proto";
import "types/guid.proto";

service ContactVerificationService {
  rpc InitiateEmailVerification(InitiateEmailVerificationRequest) returns (InitiateEmailVerificationResponse);
  rpc VerifyEmail(VerifyEmailRequest) returns (VerifyEmailResponse);
  rpc InitiatePhoneVerification(InitiatePhoneVerificationRequest) returns (InitiatePhoneVerificationResponse);
  rpc VerifyPhone(VerifyPhoneRequest) returns (VerifyPhoneResponse);
}

message InitiateEmailVerificationRequest {
  proto.platform.grpc.common.types.GuidValue storefront_id = 1;
  string user_id = 2;
  string email = 3;
}

message InitiateEmailVerificationResponse {
  proto.customer.models.contact_verification.v1.VerificationInitiationModel result = 1;
}

message VerifyEmailRequest {
  proto.platform.grpc.common.types.GuidValue storefront_id = 1;
  string user_id = 2;
  string email = 3;
  string code = 4;
}

message VerifyEmailResponse {
  proto.customer.models.contact_verification.v1.VerificationResultModel result = 1;
}

message InitiatePhoneVerificationRequest {
  proto.platform.grpc.common.types.GuidValue storefront_id = 1;
  string user_id = 2;
  string phone = 3;
}

message InitiatePhoneVerificationResponse {
  proto.customer.models.contact_verification.v1.VerificationInitiationModel result = 1;
}

message VerifyPhoneRequest {
  proto.platform.grpc.common.types.GuidValue storefront_id = 1;
  string user_id = 2;
  string phone = 3;
  string code = 4;
}

message VerifyPhoneResponse {
  proto.customer.models.contact_verification.v1.VerificationResultModel result = 1;
}
